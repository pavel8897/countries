<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<ul></ul>
</body>
</html>

<script>

	async function getResponse() {
		let response = await fetch('https://countryapi.io/api/all?apikey=kqhXNILSSIIjj9iHnwKwhVA0UJwcGG7a6xefBptS')
		let content = await response.json()
		console.log(content)
		
		let key
		let countries = []

		for(key in content) {
			countries.push(content[key].name)
		}
		countries = countries.sort()

		out(content, countries)
	}

	function out(content, arr) {
		
		let ul = document.querySelector('ul')
		
		arr.forEach(item => {
			let li = document.createElement('li')
			let a = document.createElement('a')
			a.innerHTML = item
			a.addEventListener('click', getElem)
			li.appendChild(a)			
			ul.appendChild(li)
		})

		function getElem() {
			let val = this.innerHTML

			for(let key in content) {
				let obj = content[key]
				if(obj.name === val) {
					let borders = obj.borders
					console.log(borders)
					//borders.forEach(item => console.log(content.item))
				}				
			}
		}
	}
	
	getResponse()



	/*async function getResponse() {
		let response = await fetch('https://countryapi.io/api/all?apikey=kqhXNILSSIIjj9iHnwKwhVA0UJwcGG7a6xefBptS')
		let content = await response.json()
		
		for(key in content) {
			countries.push(content[key].name)
		}
		
	}*/


</script>





